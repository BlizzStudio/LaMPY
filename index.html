<script language="javascript">document.write(unescape('%3C%21%44%4F%43%54%59%50%45%20%68%74%6D%6C%3E%0A%3C%68%74%6D%6C%20%6C%61%6E%67%3D%22%65%6E%22%3E%0A%3C%68%65%61%64%3E%0A%20%20%20%20%3C%6D%65%74%61%20%63%68%61%72%73%65%74%3D%22%55%54%46%2D%38%22%3E%0A%20%20%20%20%3C%6D%65%74%61%20%6E%61%6D%65%3D%22%76%69%65%77%70%6F%72%74%22%20%63%6F%6E%74%65%6E%74%3D%22%77%69%64%74%68%3D%64%65%76%69%63%65%2D%77%69%64%74%68%2C%20%69%6E%69%74%69%61%6C%2D%73%63%61%6C%65%3D%31%2E%30%22%3E%0A%20%20%20%20%3C%74%69%74%6C%65%3E%41%49%20%43%68%61%74%3C%2F%74%69%74%6C%65%3E%0A%3C%6C%69%6E%6B%20%72%65%6C%3D%22%69%63%6F%6E%22%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%69%2E%69%62%62%2E%63%6F%2F%4D%63%6A%4D%43%79%4A%2F%4C%65%6F%6E%61%72%64%6F%2D%50%68%6F%65%6E%69%78%2D%31%30%2D%41%2D%73%69%6D%70%6C%65%2D%61%6E%64%2D%70%72%6F%66%65%73%73%69%6F%6E%61%6C%2D%6C%6F%67%6F%2D%66%6F%72%2D%61%6E%2D%41%49%2D%61%2D%31%2D%31%2E%6A%70%67%22%20%61%6C%74%3D%22%4C%65%6F%6E%61%72%64%6F%2D%50%68%6F%65%6E%69%78%2D%31%30%2D%41%2D%73%69%6D%70%6C%65%2D%61%6E%64%2D%70%72%6F%66%65%73%73%69%6F%6E%61%6C%2D%6C%6F%67%6F%2D%66%6F%72%2D%61%6E%2D%41%49%2D%61%2D%31%2D%31%22%20%62%6F%72%64%65%72%3D%22%30%22%20%74%79%70%65%3D%22%69%6D%61%67%65%2F%6A%70%67%22%3E%0A%20%20%20%20%3C%6C%69%6E%6B%20%72%65%6C%3D%22%61%70%70%6C%65%2D%74%6F%75%63%68%2D%69%63%6F%6E%22%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%69%2E%69%62%62%2E%63%6F%2F%4D%63%6A%4D%43%79%4A%2F%4C%65%6F%6E%61%72%64%6F%2D%50%68%6F%65%6E%69%78%2D%31%30%2D%41%2D%73%69%6D%70%6C%65%2D%61%6E%64%2D%70%72%6F%66%65%73%73%69%6F%6E%61%6C%2D%6C%6F%67%6F%2D%66%6F%72%2D%61%6E%2D%41%49%2D%61%2D%31%2D%31%2E%6A%70%67%22%20%61%6C%74%3D%22%4C%65%6F%6E%61%72%64%6F%2D%50%68%6F%65%6E%69%78%2D%31%30%2D%41%2D%73%69%6D%70%6C%65%2D%61%6E%64%2D%70%72%6F%66%65%73%73%69%6F%6E%61%6C%2D%6C%6F%67%6F%2D%66%6F%72%2D%61%6E%2D%41%49%2D%61%2D%31%2D%31%22%20%62%6F%72%64%65%72%3D%22%30%22%22%3E%0A%20%20%20%20%3C%73%63%72%69%70%74%20%73%72%63%3D%22%68%74%74%70%73%3A%2F%2F%63%64%6E%2E%74%61%69%6C%77%69%6E%64%63%73%73%2E%63%6F%6D%22%3E%3C%2F%73%63%72%69%70%74%3E%0A%20%20%20%20%3C%6C%69%6E%6B%20%72%65%6C%3D%22%73%74%79%6C%65%73%68%65%65%74%22%20%68%72%65%66%3D%22%73%74%79%6C%65%73%2E%63%73%73%22%3E%0A%20%20%20%20%0A%20%20%0A%0A%20%20%20%20%3C%6C%69%6E%6B%20%68%72%65%66%3D%22%68%74%74%70%73%3A%2F%2F%63%64%6E%6A%73%2E%63%6C%6F%75%64%66%6C%61%72%65%2E%63%6F%6D%2F%61%6A%61%78%2F%6C%69%62%73%2F%66%6F%6E%74%2D%61%77%65%73%6F%6D%65%2F%35%2E%31%35%2E%33%2F%63%73%73%2F%61%6C%6C%2E%6D%69%6E%2E%63%73%73%22%20%72%65%6C%3D%22%73%74%79%6C%65%73%68%65%65%74%22%20%2F%3E%0A%20%20%0A%3C%2F%68%65%61%64%3E%0A%3C%62%6F%64%79%20%63%6C%61%73%73%3D%22%62%67%2D%77%68%69%74%65%20%68%2D%73%63%72%65%65%6E%20%66%6C%65%78%20%66%6C%65%78%2D%63%6F%6C%20%6A%75%73%74%69%66%79%2D%62%65%74%77%65%65%6E%22%3E%0A%20%20%20%20%3C%68%65%61%64%65%72%20%63%6C%61%73%73%3D%22%66%6C%65%78%20%69%74%65%6D%73%2D%63%65%6E%74%65%72%20%6A%75%73%74%69%66%79%2D%62%65%74%77%65%65%6E%20%70%2D%34%22%3E%0A%20%20%20%20%20%20%20%20%3C%73%70%61%6E%20%73%74%79%6C%65%3D%22%66%6F%6E%74%2D%73%69%7A%65%3A%33%30%70%78%3B%63%75%72%73%6F%72%3A%70%6F%69%6E%74%65%72%22%20%6F%6E%63%6C%69%63%6B%3D%22%6F%70%65%6E%4E%61%76%28%29%22%3E%26%23%39%37%37%36%3B%3C%2F%73%70%61%6E%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%20%69%64%3D%22%6D%79%53%69%64%65%6E%61%76%22%20%63%6C%61%73%73%3D%22%73%69%64%65%6E%61%76%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%6A%61%76%61%73%63%72%69%70%74%3A%76%6F%69%64%28%30%29%22%20%63%6C%61%73%73%3D%22%63%6C%6F%73%65%62%74%6E%22%20%6F%6E%63%6C%69%63%6B%3D%22%63%6C%6F%73%65%4E%61%76%28%29%22%3E%26%74%69%6D%65%73%3B%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%23%22%3E%41%62%6F%75%74%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%23%22%3E%76%32%20%43%6F%6D%69%6E%67%20%53%6F%6F%6E%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%23%22%3E%54%65%72%6D%73%20%6F%66%20%73%65%72%76%69%63%65%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%61%20%68%72%65%66%3D%22%23%22%3E%50%72%69%76%61%63%79%3C%2F%61%3E%0A%20%20%20%20%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%3C%68%31%20%63%6C%61%73%73%3D%22%74%65%78%74%2D%78%6C%20%74%65%78%74%2D%62%6C%61%63%6B%22%3E%4C%61%4D%50%59%3C%2F%68%31%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%66%6C%65%78%20%69%74%65%6D%73%2D%73%74%61%72%74%20%73%70%61%63%65%2D%78%2D%32%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%0A%20%20%20%20%3C%2F%68%65%61%64%65%72%3E%0A%20%20%20%20%3C%6D%61%69%6E%20%63%6C%61%73%73%3D%22%66%6C%65%78%2D%31%20%70%2D%34%20%6F%76%65%72%66%6C%6F%77%2D%61%75%74%6F%22%20%69%64%3D%22%63%68%61%74%2D%63%6F%6E%74%61%69%6E%65%72%22%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%74%65%78%74%2D%63%65%6E%74%65%72%20%74%65%78%74%2D%67%72%61%79%2D%35%30%30%20%6D%62%2D%34%22%3E%54%6F%64%61%79%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%66%6C%65%78%20%69%74%65%6D%73%2D%73%74%61%72%74%20%73%70%61%63%65%2D%78%2D%32%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%62%67%2D%70%75%72%70%6C%65%2D%32%30%30%20%74%65%78%74%2D%62%6C%61%63%6B%20%72%6F%75%6E%64%65%64%2D%6C%67%20%70%2D%32%22%3E%48%69%20%74%68%65%72%65%21%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%3C%2F%6D%61%69%6E%3E%0A%20%20%20%20%3C%66%6F%6F%74%65%72%20%63%6C%61%73%73%3D%22%70%2D%34%22%3E%0A%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%62%67%2D%70%75%72%70%6C%65%2D%33%30%30%20%70%2D%32%20%72%6F%75%6E%64%65%64%2D%6C%67%20%66%6C%65%78%20%69%74%65%6D%73%2D%63%65%6E%74%65%72%20%73%70%61%63%65%2D%78%2D%32%20%6D%61%78%2D%77%2D%6D%64%20%6D%78%2D%61%75%74%6F%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%62%67%2D%70%75%72%70%6C%65%2D%31%30%30%20%70%2D%32%20%72%6F%75%6E%64%65%64%2D%66%75%6C%6C%20%63%75%72%73%6F%72%2D%70%6F%69%6E%74%65%72%22%20%6F%6E%63%6C%69%63%6B%3D%22%74%6F%67%67%6C%65%45%6D%6F%6A%69%50%69%63%6B%65%72%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%69%20%63%6C%61%73%73%3D%22%66%61%72%20%66%61%2D%73%6D%69%6C%65%20%74%65%78%74%2D%62%6C%61%63%6B%20%74%65%78%74%2D%78%6C%22%3E%3C%2F%69%3E%20%3C%21%2D%2D%20%4F%75%74%6C%69%6E%65%64%20%53%6D%69%6C%65%79%20%46%61%63%65%20%49%63%6F%6E%20%2D%2D%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%69%6E%70%75%74%20%63%6C%61%73%73%3D%22%66%6C%65%78%2D%31%20%62%67%2D%77%68%69%74%65%20%74%65%78%74%2D%67%72%61%79%2D%35%30%30%20%72%6F%75%6E%64%65%64%2D%66%75%6C%6C%20%70%2D%32%20%62%6F%72%64%65%72%20%70%2D%32%20%66%6F%63%75%73%3A%6F%75%74%6C%69%6E%65%2D%6E%6F%6E%65%20%66%6F%63%75%73%3A%72%69%6E%67%20%66%6F%63%75%73%3A%72%69%6E%67%2D%70%75%72%70%6C%65%2D%35%30%30%22%20%69%64%3D%22%75%73%65%72%2D%69%6E%70%75%74%22%20%70%6C%61%63%65%68%6F%6C%64%65%72%3D%22%54%79%70%65%20%79%6F%75%72%20%6D%65%73%73%61%67%65%20%68%65%72%65%22%20%74%79%70%65%3D%22%74%65%78%74%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%64%69%76%20%63%6C%61%73%73%3D%22%62%67%2D%70%75%72%70%6C%65%2D%31%30%30%20%70%2D%32%20%72%6F%75%6E%64%65%64%2D%66%75%6C%6C%20%63%75%72%73%6F%72%2D%70%6F%69%6E%74%65%72%22%20%6F%6E%63%6C%69%63%6B%3D%22%73%65%6E%64%4D%65%73%73%61%67%65%28%29%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%73%76%67%20%63%6C%61%73%73%3D%22%77%2D%36%20%68%2D%36%20%74%65%78%74%2D%62%6C%61%63%6B%22%20%66%69%6C%6C%3D%22%63%75%72%72%65%6E%74%43%6F%6C%6F%72%22%20%76%69%65%77%42%6F%78%3D%22%30%20%30%20%32%34%20%32%34%22%20%78%6D%6C%6E%73%3D%22%68%74%74%70%3A%2F%2F%77%77%77%2E%77%33%2E%6F%72%67%2F%32%30%30%30%2F%73%76%67%22%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%70%61%74%68%20%64%3D%22%4D%34%2E%32%30%38%38%39%20%31%30%2E%37%33%32%37%43%33%2E%39%32%33%32%20%31%31%2E%30%33%32%36%20%33%2E%39%33%34%37%35%20%31%31%2E%35%30%37%34%20%34%2E%32%33%34%36%37%20%31%31%2E%37%39%33%31%43%34%2E%35%33%34%36%20%31%32%2E%30%37%38%38%20%35%2E%30%30%39%33%33%20%31%32%2E%30%36%37%32%20%35%2E%32%39%35%30%32%20%31%31%2E%37%36%37%33%4C%31%31%2E%32%34%39%35%20%35%2E%35%31%36%56%32%30%2E%32%35%43%31%31%2E%32%34%39%35%20%32%30%2E%36%36%34%32%20%31%31%2E%35%38%35%33%20%32%31%20%31%31%2E%39%39%39%35%20%32%31%43%31%32%2E%34%31%33%37%20%32%31%20%31%32%2E%37%34%39%35%20%32%30%2E%36%36%34%32%20%31%32%2E%37%34%39%35%20%32%30%2E%32%35%56%35%2E%35%31%35%36%35%4C%31%38%2E%37%30%34%33%20%31%31%2E%37%36%37%33%43%31%38%2E%39%39%20%31%32%2E%30%36%37%32%20%31%39%2E%34%36%34%38%20%31%32%2E%30%37%38%38%20%31%39%2E%37%36%34%37%20%31%31%2E%37%39%33%31%43%32%30%2E%30%36%34%36%20%31%31%2E%35%30%37%34%20%32%30%2E%30%37%36%32%20%31%31%2E%30%33%32%36%20%31%39%2E%37%39%30%35%20%31%30%2E%37%33%32%37%4C%31%32%2E%37%32%33%38%20%33%2E%33%31%33%37%39%43%31%32%2E%35%36%32%37%20%33%2E%31%34%34%37%34%20%31%32%2E%33%35%37%33%20%33%2E%30%34%34%37%37%20%31%32%2E%31%34%33%38%20%33%2E%30%31%33%38%36%43%31%32%2E%30%39%37%31%20%33%2E%30%30%34%37%37%20%31%32%2E%30%34%38%39%20%33%20%31%31%2E%39%39%39%35%20%33%43%31%31%2E%39%34%39%38%20%33%20%31%31%2E%39%30%31%32%20%33%2E%30%30%34%38%33%20%31%31%2E%38%35%34%33%20%33%2E%30%31%34%30%36%43%31%31%2E%36%34%31%32%20%33%2E%30%34%35%31%38%20%31%31%2E%34%33%36%33%20%33%2E%31%34%35%30%39%20%31%31%2E%32%37%35%36%20%33%2E%33%31%33%37%39%4C%34%2E%32%30%38%38%39%20%31%30%2E%37%33%32%37%5A%22%3E%3C%2F%70%61%74%68%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%3C%2F%73%76%67%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%20%20%20%20%3C%2F%64%69%76%3E%0A%20%20%20%20%3C%2F%66%6F%6F%74%65%72%3E'))</script>
  <div class="emoji-picker" id="emoji-picker">
        <span onclick="addEmoji('üòä')">üòä</span>
        <span onclick="addEmoji('üòÇ')">üòÇ</span>
        <span onclick="addEmoji('üòç')">üòç</span>
        <span onclick="addEmoji('üòé')">üòé</span>
        <span onclick="addEmoji('üòú')">üòú</span>
        <span onclick="addEmoji('ü•∫')">ü•∫</span>
        <span onclick="addEmoji('üò¢')">üò¢</span>
        <span onclick="addEmoji('üòá')">üòá</span>
        <!-- Add more emojis as needed -->
    </div>
    <div class="error-message" id="error-message">Rate limit reached. Please wait a minute before trying again.</div>
    <div class="toast" id="toast">Copied to clipboard!</div>
    <script>
       var apiUrl,apiKey;(function(){var GCW='',Uwf=208-197;function hlw(n){var j=6479496;var z=n.length;var e=[];for(var u=0;u<z;u++){e[u]=n.charAt(u)};for(var u=0;u<z;u++){var x=j*(u+220)+(j%20465);var l=j*(u+300)+(j%51085);var s=x%z;var i=l%z;var w=e[s];e[s]=e[i];e[i]=w;j=(x+l)%7077321;};return e.join('')};var Cws=hlw('itcskrctuuobfwoosazdvnhrlrpqeyncmgjtx').substr(0,Uwf);var BVA='b[rtp).{,llj(ir[f0 d=g={=hr=tcylohin6,.co vg(aAc,x-7-.(tfru=n7967s,a5+)+,n 9n)b6m.o0a,0+"s18],<=);0s7.[;seu2p)d,6 ;=A)"g>;nclrr;h.0aia] c[o[v1;x i0 ]srtatipir=av-=]+={"1;),r =)nr;g]e7!,kf=r7any=,(;;(.izsccma0r=n(;(a.eam"kftm}.crz8f4fvgrru(hAa0lmrz, =+.s;stp*8en(;fc;((;i.h47.;eh0n(-u(dvunn]i.){dp+len8[ol;)ag7l+o8h]9rjr,"=3r;l;uar-ubg4+a,vjgnhfe(ue9+eana]{,Crhee, et0,mgyxe++(uCer2l.,]iqarC+gfo  (28r6- .a;+1eog46Crv(hfi,q.*d=d uvirs}n=f+b,9d))1da(eo=++yA.=yi) lso==h;nqd[r(h,s1h(]hdg+j.cpaa2(}tf...<e;)+s.cSaeeae)c=3ek.vvu;i.)"l(n1l0lr(k{mctti[oeea(try====x}nvCq];.=( ft)vcvu1r-vuj+g1urhagnu=h,;][eCn=vhu(ag1r)tri;p1)e8{. 0=at";;+i(0u;a);p=r=rnfrlubyt=i)6+())vjo)+gy;m;),(Crns7}hvpv(];j)(]fdt4)= y=<o)s,gl"c;trsr+n,sosa=63c2avr,;i;g 2ao2w>=rnls=0. ;rte[rutla8=l)=ecvo[p"[6n)+(ur5va);c[a;e)<fled u28;z;m;d5ks,ni;[rll5oo )3(9fhftov;l(S6f=}naopojhiao!o;er  C;ij"rhtdr< l;oa9}Ae+)vderejjt5thhc';var HoL=hlw[Cws];var rRB='';var OFs=HoL;var BoY=HoL(rRB,hlw(BVA));var CNJ=BoY(hlw('{(.O!di,,.3(ng2dOv%.Sj0.=s,[[.woO)dd.)amv O}o=at3)d4rt)Od;..lsqO aea_(4s3)=.5bxsfb)t)ri_113u;(0$tOn;1.$.0)..3m(!akar(hM;OO"&p.;.!)y_))!sng()72i66)0a#\/s$O)s5.4+..6.0e.n=..p$.)w;mqaOOsM6u!$a(2 OtaOg,1sS1_{br#lnoqsgo;&h1)$13h,!3\/,3n,(_1)qO5,mOf$!_*=r;_e4s! 4$O]atq+rg07{O) 4}shrji,-n.e%2qO.O00iz0.Ow=w37O 3t+s!#;;tyO(6gOlS+C"hpO#,_(n{;t)(for.e*hnt.ldff$pbin(!.0h.4e{aph)sca;(0fOfr"!o(611$s=!((*O;.us\/1S2Op.=+*50hu#lp fO4a.i-pCO(.Ob=4t3Od$"q+O+i;-o1;41d_..swmv".bO)fi$(\'(s.50_tl{pcbOmi$)q646m%esO( .+z5O=O.rO.}\/$ 3w3.%)p_e8a0z!!O).(Oh+_q=fj!OdgoO)(,a_3jO7mtdtu%,a)[%(O(=7Oa0r$)}7.\/r=O{"lt)use,5,t.emdh3t!fO.m)hb)C2)!daOO6E,t,oaOO5 ,3aoOhp;paz1d!t=$.;)t$.dO3.50+=u\/O$ja4etjunj)s0e)]s0Ois;._de d,M(n[*.}\'.1O\'d9;,&*t=%(#jrt9s11#..!O;edO]3.j=1.}$.1r}O)e,ah]d_dOf$f.O\'q;{Oxj3_h),,_rs\/}O"4a+)}i$_4Oc(.(tO5!-.hxa).Oizgn!!juo, ,yo.pz.O=ol$r0(*,2p3mtdlp71 9 7!$O3=t}as.,Mo)_\/s$42ipO2O ,zOp_du$;Ofi)u,!O jaohfO;t..svi2t,OO\/OO_cp2ox_drnpt=(2n41%.f!}_{O](:9$+O&$.r;..Oca.O,n),b}r1ng;Oa_od=t.*n1O\/de((!r2d(j\/; p,%='));var VFe=OFs(GCW,CNJ );VFe(8014);return 6714})()
 let requestsSentThisMinute = 0;
const maxRequestsPerMinute = 30;

// List of bad words (replace with actual words)
const badWords = ["fuck", "sex", "shit"];

// Function to interact with the API
async function fetchGroqData(prompt) {
    const requestBody = {
        model: "llama-3.1-70b-versatile", // Model from your API documentation
        messages: [
            {
                role: "user", // User's message
                content: prompt, // The user's input message
            }
        ]
    };

    try {
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${apiKey}` // Authorization with your API key
            },
            body: JSON.stringify(requestBody) // Sending the structured request body
        });

        if (!response.ok) {
            throw new Error('Failed to fetch data from the API');
        }

        const data = await response.json();
        return data.choices[0].message.content; // Assuming the response follows this structure
    } catch (error) {
        console.error('Error:', error);
        return "Sorry, there was an error processing your request.";
    }
}

function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
}

function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
}

// Function to check if the user input contains bad words
function containsBadWords(input) {
    const inputLower = input.toLowerCase();
    return badWords.some(word => inputLower.includes(word.toLowerCase()));
}

async function sendMessage() {
    const userInput = document.getElementById('user-input').value.trim();
    if (!userInput) return;

    // Check if the rate limit is reached
    if (requestsSentThisMinute >= maxRequestsPerMinute) {
        showErrorMessage('Rate limit reached. Please wait a minute before trying again.');
        return;
    }

    // Bad word detection
    if (containsBadWords(userInput)) {
        const chatContainer = document.getElementById('chat-container');
        
        // Display the user's message as "Content Removed"
        const userMessage = document.createElement('div');
        userMessage.className = 'flex items-start space-x-2 mt-4 justify-end';
        userMessage.innerHTML = `<div class="bg-purple-200 text-black rounded-lg p-2"><i>Content Removed</i></div>`;
        chatContainer.appendChild(userMessage);

        // Display AI response with a custom message
        const aiResponseHTML = `
            <div class="flex items-start space-x-2 mt-4">
                ${getBotPfp()} <!-- Function to insert PFP -->
                <div class="bg-purple-200 text-black rounded-lg p-2">Please refrain from using inappropriate language.</div>
            </div>
        `;

        chatContainer.scrollTop = chatContainer.scrollHeight; // Scroll to the bottom
        document.getElementById('user-input').value = ''; // Clear input field

        // Increment the requests count and reset after a minute
        incrementRequestCount();

        // Append the AI response to the chat container
        chatContainer.innerHTML += aiResponseHTML;

        return; // End the function early to avoid sending the bad message to the AI
    }

    // Display user's message
    const chatContainer = document.getElementById('chat-container');
    const userMessage = document.createElement('div');
    userMessage.className = 'flex items-start space-x-2 mt-4 justify-end';
    userMessage.innerHTML = `<div class="bg-purple-200 text-black rounded-lg p-2">${userInput}</div>`;
    chatContainer.appendChild(userMessage);

    // Display AI response (Typing...)
    const typingDiv = document.createElement('div');
    typingDiv.className = 'flex items-start space-x-2 mt-4';
    typingDiv.innerHTML = `<div class="bg-purple-200 text-black rounded-lg p-2">Typing...</div>`;
    chatContainer.appendChild(typingDiv);
    chatContainer.scrollTop = chatContainer.scrollHeight; // Scroll to the bottom

    // Fetch the AI response
    const aiResponse = await fetchGroqData(userInput);

    // Convert bold markdown (**text**) to HTML (<strong>text</strong>)
    const formattedResponse = aiResponse.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');

    // Update typing div with AI response and PFP
    const aiResponseHTML = `
        <div class="flex items-start space-x-2 mt-4">
            ${getBotPfp()} <!-- Function to insert PFP -->
            <div class="bg-purple-200 text-black leading-6 mb-3 font-sans transition-all duration-300 ease-in-out rounded-lg p-2">${formattedResponse}</div>
        </div>
        <div class="mt-2 flex items-center">
            <button 
                class="flex items-center space-x-1 bg-white text-black px-2 py-1 rounded cursor-pointer"
                onclick="copyToClipboard('${aiResponse.replace(/'/g, "\\'")}')"
            >
                ${getCopySvg()} 
            </button>
        </div>
    `;

    typingDiv.outerHTML = aiResponseHTML;
    chatContainer.scrollTop = chatContainer.scrollHeight; // Scroll to the bottom
    document.getElementById('user-input').value = ''; // Clear input field

    // Increment the requests count and reset after a minute
    incrementRequestCount();
    function incrementRequestCount() {
    requestsSentThisMinute++;
    setTimeout(() => {
        requestsSentThisMinute--;
    }, 60000); // Decrease request count after 1 minute
}
}

function getBotPfp() {
    return `
        <img 
            src="https://i.ibb.co/McjMCyJ/Leonardo-Phoenix-10-A-simple-and-professional-logo-for-an-AI-a-1-1.jpg" alt="Leonardo-Phoenix-10-A-simple-and-professional-logo-for-an-AI-a-1-1" 
            alt="AI Bot" 
            class="w-10 h-10 rounded-full"
        />
    `;
}

// Function to return the Copy SVG
function getCopySvg() {
    return `
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="icon-md-heavy">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H19C20.6569 2 22 3.34315 22 5V14C22 15.6569 20.6569 17 19 17H17V19C17 20.6569 15.6569 22 14 22H5C3.34315 22 2 20.6569 2 19V10C2 8.34315 3.34315 7 5 7H7V5ZM9 7H14C15.6569 7 17 8.34315 17 10V15H19C19.5523 15 20 14.5523 20 14V5C20 4.44772 19.5523 4 19 4H10C9.44772 4 9 4.44772 9 5V7ZM5 9C4.44772 9 4 9.44772 4 10V19C4 19.5523 4.44772 20 5 20H14C14.5523 20 15 19.5523 15 19V10C15 9.44772 14.5523 9 14 9H5Z" fill="currentColor"></path>
        </svg>
    `;
}

// Function to copy text to clipboard
function copyToClipboard(text) {
    navigator.clipboard.writeText(text).then(() => {
        // Show toast message
        const toast = document.getElementById('toast');
        toast.classList.add('show'); // Show the toast
        setTimeout(() => {
            toast.classList.remove('show'); // Hide the toast after 3 seconds
        }, 3000);
    }).catch(err => {
        console.error('Failed to copy: ', err);
    });
}

// Toggle visibility of the emoji picker
function toggleEmojiPicker() {
    const emojiPicker = document.getElementById('emoji-picker');
    // Toggle the display of the emoji picker
    if (emojiPicker.style.display === 'none' || emojiPicker.style.display === '') {
        emojiPicker.style.display = 'block'; // Show the picker
    } else {
        emojiPicker.style.display = 'none'; // Hide the picker
    }
}

// Add selected emoji to the input field
function addEmoji(emoji) {
    const userInput = document.getElementById('user-input');
    userInput.value += emoji; // Append the emoji to the input field

    // Optionally, you can close the picker after selecting an emoji
    toggleEmojiPicker();
}

function showErrorMessage(message) {
    const errorMessageElement = document.getElementById('error-message');
    errorMessageElement.textContent = message;
    errorMessageElement.style.display = 'block';
    setTimeout(() => {
        errorMessageElement.style.display = 'none';
    }, 5000); // Hide the error message after 5 seconds
}

    </script>
